import tkinter as tk
import keyboard

def instantGPT():
  print('test')
  global loadingWindow
  loadingWindow.destroy()

def loadWindow():
  print('loading..')
  global loadingWindow
  # Create a window
  loadingWindow = tk.Tk()

  # Set the window settings
  loadingWindow.title("Self-Closing Window")
  # Remove the buttons on top
  loadingWindow.overrideredirect(True)
  # Move the window to the current mouse position
  loadingWindow.geometry(f"+{loadingWindow.winfo_pointerx()}+{loadingWindow.winfo_pointery()}")
  # Write text into the window
  content_label = tk.Label(loadingWindow, text="Loadingggggg...", font=("Arial", 22))
  content_label.pack()

  # Do something while loading the window
  loadingWindow.after(1000, instantGPT)
  loadingWindow.mainloop()

# Register the hotkey outside the function
keyboard.add_hotkey("ctrl+shift+o", loadWindow)

# Wait for the 'esc' key to exit the program
keyboard.wait('esc')
